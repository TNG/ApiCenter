<div class="container top-buffer">
  <div class="row top-buffer">
    <div class="alert alert-danger" role="alert" *ngIf="error">
      {{ error }}
    </div>
  </div>
  <div class="row top-buffer">
    <div class="col">
      <input type="radio" name="type-radio" (click)="changeTypeRadio()" [checked]="!remoteUploadSelected"/>
      Upload a file from your computer
    </div>
  </div>
  <div class="row top-buffer">
    <div class="col">
      <p>
        <input type="file" placeholder="Upload Swagger Specification" accept=".yml,.json,.yaml,.graphql" ngModel
               (change)="onLocalFileChange($event)" [attr.disabled]="remoteUploadSelected ? '' : null">
      </p>
    </div>
    <div class="col" *ngIf="isGraphQLFile">
      Additionally required fields for GraphQL upload:
      <div *ngFor="let fieldName of objectKeys(metaData)">
        <div class="row">
          <input type="text" [placeholder]="fieldName.charAt(0).toUpperCase() + fieldName.slice(1)" [(ngModel)]="metaData[fieldName]"/>
        </div>
      </div>
      <button (click)="addServerInputField()">Add</button>
      <button (click)="removeServerInputField()">Remove</button>
      <p>API endpoints:</p>
      <ul>
        <li *ngFor="let server of servers; let i = index; trackBy: trackByIndex;">
          <input type="text" placeholder="Enter server URL" [(ngModel)]="servers[i]" />
        </li>
      </ul>
    </div>
  </div>
  <div class="row top-buffer">
    <div class="col">
      <input type="radio" name="type-radio" (click)="changeTypeRadio()" [checked]="remoteUploadSelected"/>
      Load file from URL
    </div>
  </div>
  <div class="row top-buffer">
    <div class="col">
      <input type="text" title="url" placeholder="Insert URL here" [attr.disabled]="!remoteUploadSelected ? '' : null" [(ngModel)]="remoteFileUrl"/>
    </div>
  </div>
  <div class="row top-buffer">
    <div class="col">
      <button type="button" class="btn btn-primary" (click)="submitSpecification()">Upload</button>
      <button type="button" class="btn btn-secondary" routerLink="/">Cancel</button>
    </div>
  </div>
</div>

